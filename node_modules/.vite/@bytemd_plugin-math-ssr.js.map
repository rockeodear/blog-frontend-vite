{
  "version": 3,
  "sources": ["../rehype-parse/index.js", "../rehype-katex/index.js", "../@bytemd/plugin-math-ssr/lib/index.js", "dep:@bytemd_plugin-math-ssr"],
  "sourcesContent": ["'use strict'\n\nvar fromParse5 = require('hast-util-from-parse5')\nvar Parser5 = require('parse5/lib/parser')\nvar errors = require('./errors.json')\n\nvar base = 'https://html.spec.whatwg.org/multipage/parsing.html#parse-error-'\n\nvar fatalities = {2: true, 1: false, 0: null}\n\nmodule.exports = parse\n\nfunction parse(options) {\n  var settings = Object.assign({}, options, this.data('settings'))\n  var position = settings.position\n\n  position = typeof position === 'boolean' ? position : true\n\n  this.Parser = parser\n\n  function parser(doc, file) {\n    var fn = settings.fragment ? 'parseFragment' : 'parse'\n    var onParseError = settings.emitParseErrors ? onerror : null\n    var parse5 = new Parser5({\n      sourceCodeLocationInfo: position,\n      onParseError: onParseError,\n      scriptingEnabled: false\n    })\n\n    return fromParse5(parse5[fn](doc), {\n      space: settings.space,\n      file: file,\n      verbose: settings.verbose\n    })\n\n    function onerror(err) {\n      var code = err.code\n      var name = camelcase(code)\n      var setting = settings[name]\n      var config = setting === undefined || setting === null ? true : setting\n      var level = typeof config === 'number' ? config : config ? 1 : 0\n      var start = {\n        line: err.startLine,\n        column: err.startCol,\n        offset: err.startOffset\n      }\n      var end = {line: err.endLine, column: err.endCol, offset: err.endOffset}\n      var info\n      var message\n\n      if (level) {\n        info = errors[name] || /* istanbul ignore next */ {\n          reason: '',\n          description: ''\n        }\n\n        message = file.message(format(info.reason), {start: start, end: end})\n        message.source = 'parse-error'\n        message.ruleId = code\n        message.fatal = fatalities[level]\n        message.note = format(info.description)\n        message.url = info.url === false ? null : base + code\n      }\n\n      function format(value) {\n        return value.replace(/%c(?:-(\\d+))?/g, char).replace(/%x/g, encodedChar)\n      }\n\n      function char($0, $1) {\n        var offset = $1 ? -parseInt($1, 10) : 0\n        var char = doc.charAt(err.startOffset + offset)\n        return char === '`' ? '` ` `' : char\n      }\n\n      function encodedChar() {\n        var char = doc.charCodeAt(err.startOffset).toString(16).toUpperCase()\n\n        return '0x' + char\n      }\n    }\n  }\n}\n\nfunction camelcase(value) {\n  return value.replace(/-[a-z]/g, replacer)\n}\n\nfunction replacer($0) {\n  return $0.charAt(1).toUpperCase()\n}\n", "const visit = require('unist-util-visit')\nconst katex = require('katex').renderToString\nconst unified = require('unified')\nconst parse = require('rehype-parse')\nconst toText = require('hast-util-to-text')\n\nmodule.exports = rehypeKatex\n\nconst assign = Object.assign\n\nconst parseHtml = unified().use(parse, {fragment: true, position: false})\n\nconst source = 'rehype-katex'\n\nfunction rehypeKatex(options) {\n  const settings = options || {}\n  const throwOnError = settings.throwOnError || false\n\n  return transformMath\n\n  function transformMath(tree, file) {\n    visit(tree, 'element', onelement)\n\n    function onelement(element) {\n      const classes = element.properties.className || []\n      const inline = classes.includes('math-inline')\n      const displayMode = classes.includes('math-display')\n\n      if (!inline && !displayMode) {\n        return\n      }\n\n      const value = toText(element)\n\n      let result\n\n      try {\n        result = katex(\n          value,\n          assign({}, settings, {displayMode: displayMode, throwOnError: true})\n        )\n      } catch (error) {\n        const fn = throwOnError ? 'fail' : 'message'\n        const origin = [source, error.name.toLowerCase()].join(':')\n\n        file[fn](error.message, element.position, origin)\n\n        result = katex(\n          value,\n          assign({}, settings, {\n            displayMode: displayMode,\n            throwOnError: false,\n            strict: 'ignore'\n          })\n        )\n      }\n\n      element.children = parseHtml.parse(result).children\n    }\n  }\n}\n", "import remarkMath from 'remark-math';\nimport rehypeKatex from 'rehype-katex';\nimport pluginMath from '@bytemd/plugin-math';\nimport en from './locales/en.json';\nexport default function mathSsr({ locale: _locale, katexOptions, } = {}) {\n    const locale = { ...en, ..._locale };\n    return {\n        remark: (u) => u.use(remarkMath),\n        rehype: (u) => u.use(rehypeKatex, katexOptions),\n        actions: pluginMath({ locale }).actions,\n    };\n}\n", "import d from \"./node_modules/@bytemd/plugin-math-ssr/dist/index.esm.js\";export default d;"],
  "mappings": "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",
  "names": []
}
