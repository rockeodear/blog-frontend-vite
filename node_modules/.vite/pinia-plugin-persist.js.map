{
  "version": 3,
  "sources": ["../pinia-plugin-persist/dist/index.esm.js", "dep:pinia-plugin-persist"],
  "sourcesContent": ["import { watch } from 'vue-demi';\n\nconst updateStorage = (strategy, store) => {\n  const storage = strategy.storage || sessionStorage;\n  const storeKey = strategy.key || store.$id;\n  if (strategy.paths) {\n    const partialState = strategy.paths.reduce((finalObj, key) => {\n      finalObj[key] = store.$state[key];\n      return finalObj;\n    }, {});\n    storage.setItem(storeKey, JSON.stringify(partialState));\n  } else {\n    storage.setItem(storeKey, JSON.stringify(store.$state));\n  }\n};\nvar index = ({ options, store }) => {\n  var _a, _b, _c, _d;\n  if ((_a = options.persist) == null ? void 0 : _a.enabled) {\n    const defaultStrat = [{\n      key: store.$id,\n      storage: sessionStorage\n    }];\n    const strategies = ((_c = (_b = options.persist) == null ? void 0 : _b.strategies) == null ? void 0 : _c.length) ? (_d = options.persist) == null ? void 0 : _d.strategies : defaultStrat;\n    strategies.forEach((strategy) => {\n      const storage = strategy.storage || sessionStorage;\n      const storeKey = strategy.key || store.$id;\n      const storageResult = storage.getItem(storeKey);\n      if (storageResult) {\n        store.$patch(JSON.parse(storageResult));\n        updateStorage(strategy, store);\n      }\n    });\n    watch(() => store.$state, () => {\n      strategies.forEach((strategy) => {\n        updateStorage(strategy, store);\n      });\n    }, { deep: true });\n  }\n};\n\nexport default index;\n//# sourceMappingURL=index.esm.js.map\n", "import d from \"./node_modules/pinia-plugin-persist/dist/index.esm.js\";export default d;"],
  "mappings": ";;;;;;AAEA,IAAM,gBAAgB,CAAC,UAAU,UAAU;AACzC,QAAM,UAAU,SAAS,WAAW;AACpC,QAAM,WAAW,SAAS,OAAO,MAAM;AACvC,MAAI,SAAS,OAAO;AAClB,UAAM,eAAe,SAAS,MAAM,OAAO,CAAC,UAAU,QAAQ;AAC5D,eAAS,OAAO,MAAM,OAAO;AAC7B,aAAO;AAAA,OACN;AACH,YAAQ,QAAQ,UAAU,KAAK,UAAU;AAAA,SACpC;AACL,YAAQ,QAAQ,UAAU,KAAK,UAAU,MAAM;AAAA;AAAA;AAGnD,IAAI,QAAQ,CAAC,EAAE,SAAS,YAAY;AAClC,MAAI,IAAI,IAAI,IAAI;AAChB,MAAK,MAAK,QAAQ,YAAY,OAAO,SAAS,GAAG,SAAS;AACxD,UAAM,eAAe,CAAC;AAAA,MACpB,KAAK,MAAM;AAAA,MACX,SAAS;AAAA;AAEX,UAAM,aAAe,OAAM,MAAK,QAAQ,YAAY,OAAO,SAAS,GAAG,eAAe,OAAO,SAAS,GAAG,UAAW,MAAK,QAAQ,YAAY,OAAO,SAAS,GAAG,aAAa;AAC7K,eAAW,QAAQ,CAAC,aAAa;AAC/B,YAAM,UAAU,SAAS,WAAW;AACpC,YAAM,WAAW,SAAS,OAAO,MAAM;AACvC,YAAM,gBAAgB,QAAQ,QAAQ;AACtC,UAAI,eAAe;AACjB,cAAM,OAAO,KAAK,MAAM;AACxB,sBAAc,UAAU;AAAA;AAAA;AAG5B,UAAM,MAAM,MAAM,QAAQ,MAAM;AAC9B,iBAAW,QAAQ,CAAC,aAAa;AAC/B,sBAAc,UAAU;AAAA;AAAA,OAEzB,EAAE,MAAM;AAAA;AAAA;AAIf,IAAO,oBAAQ;;;ACxCuD,IAAO,+BAAQ;",
  "names": []
}
